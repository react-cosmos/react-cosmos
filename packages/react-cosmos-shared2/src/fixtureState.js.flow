// @flow

export type FixtureDecoratorId = number;

export type FixtureStateValue = {
  serializable: boolean,
  key: string,
  stringified: string
};

export type FixtureStateValues = FixtureStateValue[];

export type PropsFixtureState = {
  decoratorId: FixtureDecoratorId,
  elPath: string,
  componentName: string,
  renderKey: number,
  values: FixtureStateValues
};

export type StateFixtureState = {
  decoratorId: FixtureDecoratorId,
  elPath: string,
  componentName: string,
  values: FixtureStateValues
};

export type FixtureState = {
  props?: PropsFixtureState[],
  state?: StateFixtureState[],
  [key: string]: mixed
};

declare export function extractValuesFromObject(obj: {
  [string]: mixed
}): FixtureStateValues;

declare export function getPropsFixtureState(
  fixtureState: ?FixtureState,
  matcher?: (PropsFixtureState) => boolean
): PropsFixtureState[];

declare export function updatePropsFixtureState({
  fixtureState: ?FixtureState,
  decoratorId: FixtureDecoratorId,
  elPath: string,
  values: FixtureStateValues,
  resetInstance?: boolean
}): PropsFixtureState[];

declare export function getStateFixtureState(
  fixtureState: ?FixtureState,
  matcher?: (PropsFixtureState) => boolean
): StateFixtureState[];

declare export function updateStateFixtureState({
  fixtureState: ?FixtureState,
  decoratorId: FixtureDecoratorId,
  elPath: string,
  values: FixtureStateValues
}): StateFixtureState[];
